Physical Downlink Shared Channel-PTRS
=====================================
This modules generates a resource grid with Phase Tracking Reference Signal (PTRS) for physical downlink shared channel (PDSCH)
mapped to a resource grid.

**Generating PDSCH-PTRS Resource Grid Case-1:**

.. code-block:: Python

    numBatches          = 7
    numRB               = 20
    pdschMappingType    = "PDSCH-mapping-type-A"
    maxLength           = "len1"
    startSymbol         = 0
    numSymbols          = 4
    configurationType   = "Configuration-type-1"
    ld                  = numSymbols
    rank                = 2
    rnti               = np.random.randint(65536, size=numBSs*numBatches)
    scramblingID  = int(np.random.randint(65535, dtype = int)) # or Cell-ID for Initial Access
    nSCID         = int(np.random.randint(2, dtype = int))
    #PTRS parameters
    offsetIndex = '00'
    lptrs = 1
    kptrs = 2
    RMptrspdsch  = ResourceMapperPTRSpdsch(lptrs,kptrs,offsetIndex)
    resourceGrid = RMptrspdsch(rank,configurationType,startSymbol,ld,numRB,rnti,scramblingID,nSCID,numBatches,numBSs=1)

**Display the PTRS-PDSCH Resource Grid:**

.. code-block:: Python

    fig0, ax0 = RMptrspdsch.DisplayResourceGrid()


.. image:: ../../figures/ResourceMapping/ptrsPDSCHresourceGrid_I.png
  :width: 800
  :alt: Alternative text

**Generating PDSCH-PTRS Resource Grid Case-2:**

.. code-block:: Python

    numBatches          = 3
    numRB               = 40
    pdschMappingType    = "PDSCH-mapping-type-B"
    maxLength           = "len2"
    startSymbol         = 1
    numSymbols          = 7
    configurationType   = "Configuration-type-2"
    ld                  = numSymbols
    rank                = 4
    rnti                = 12557
    scramblingID        = 34956
    nSCID               = 0
    #PTRS parameters
    offsetIndex = '00'
    lptrs               = 4
    kptrs               = 4
    RMptrspdsch         = ResourceMapperPTRSpdsch(lptrs,kptrs,offsetIndex)
    resourceGrid        = RMptrspdsch(rank,configurationType,startSymbol,ld,numRB,rnti,scramblingID,nSCID,numBatches,numBSs=1)


**Note:**
The Rank, Start Symbol and Number of Symbol must be chosen in accordance to the configuration, mapping types and max length


**Display the PTRS-PDSCH Resource Grid:**


.. code-block:: Python

    fig1, ax1 = RMptrspdsch.DisplayResourceGrid()


.. image:: ../../figures/ResourceMapping/ptrsPDSCHresourceGrid_II.png
    :width: 800
    :alt: Alternative text


.. autoclass:: toolkit5G.ResourceMapping.ResourceMapperPTRSPDSCH
   :members:
   :exclude-members: call, build



References:
    .. [3GPPTS38211_pdschDMRS] (3GPP TS 38.211 version 17.1.0 Release 17) 5G;NR;Physical channels and modulation '5.2.2 Low-PAPR sequence generation type 1'
